<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Контакты</title>
    <link href="styles.css" rel="stylesheet" type="text/css">
</head>
<body>
    <table width="100%" align="center" class="header">
        <tr>
            <td width="15%" align="left">
                <a href="index.html">
                    <img src="source/logo.png" alt="Логотип" class="logo">
                </a>
            </td>
            <td align="center">
                <h1 style="margin-top:35px" class="site-title">Фаренгейт</h1>
                <p style="margin-bottom:15px; color:white; font-size: large;">Лучший магазин сантехники!</p>
            </td>
            <td width="21.5%" align="right">
                <div class="login-block">
                    <table width="100%">
                        <tr>
                            <td align="right">
                                <input type="text" id="loginEmail" placeholder="логин" size="15" class="input-field">
                            </td>
                        </tr>
                        <tr>
                            <td align="right">
                                <input type="password" id="loginPassword" placeholder="пароль" size="15" class="input-field">
                            </td>
                        </tr>
                        <tr>
                            <td align="right">
                                <input type="submit" value="Войти" class="submit-button" style="width: 100%;" onclick="loginUser()">
                                <a href="authorize.html" class="register-link">регистрация</a>
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
    </table>
    

    <table border="0" width="100%" cellpadding="2" class="nav-table">
        <tr style="text-align: center;">
            <td align="center" width="25%">
                <a href="chapters/chapter1.html" class="nav-button" style="display: inline-block; width: 95%; text-align: center; padding: 8px; border-radius: 15px;">
                    Радиаторы отопления
                </a>
            </td>
            <td align="center" width="25%">
                <a href="chapters/chapter2.html" class="nav-button" style="display: inline-block; width: 95%; text-align: center;  padding: 8px; border-radius: 15px;">
                    Насосное оборудование
                </a>
            </td>
            <td align="center" width="25%">
                <a href="chapters/chapter3.html" class="nav-button" style="display: inline-block; width: 95%; text-align: center;  padding: 8px; border-radius: 15px;">
                    Водонагреватели
                </a>
            </td>
            <td align="center" width="25%">
                <a href="chapters/chapter4.html" class="nav-button" style="display: inline-block; width: 95%; text-align: center; padding: 8px; border-radius: 15px;">
                    Камины
                </a>
            </td>
        </tr>
    </table>
<div id="mainContent">
    <table border="0" width="100%" cellpadding="25" align="center">
        <tr>
            
            <td width="11%" class="sidebar" valign="top" align="center">
                <ul class="nav-list">
                    <li class = "nav-button" style="width:75%"><a href="sales.html" class="nav-button">Скидки</a></li>
                    <li class = "nav-button" style="width:75%"><a href="geo.html" class="nav-button">Контакты</a></li>
                    <li class = "nav-button" style="width:75%"><a href="guarantee.html" class="nav-button">Гарантии</a></li>
                    <li class = "nav-button" style="width:75%"><a href="about_us.html" class="nav-button">О нас</a></li>
                </ul>
            </td>
            <!--Основной контент-->
            <td width="34%" valign="top">
                <h1 align="center">Как до нас добраться?</h1>

            <p align="center">
                Наш офис расположен на юго-западе Москвы, вы можете добраться до нас следующими способами:
            </p>
            <ul style="list-style: none; padding: 0; text-align: center; width: 80%; margin: 0 auto;">
                <li><strong>Метро:</strong> станция Румянцево.</li>
                <li><strong>Телефон:</strong> +7 495 260-18-27</li>
                <li><strong>Email:</strong> info@farengeit-online.ru</li>
            </ul>
            

            <h2 align="center">Наша карта расположения</h2>
            <!-- Место для скриншота карты -->
            <div align="center">
                <img src="source/mapGeo.jpg" alt="Карта с местоположением" style="width: 80%; height: auto; border: 5px solid gainsboro;">
            </div>

            <p align="center">Вы можете посмотреть карту подробнее, перейдя по <a href="https://yandex.ru/maps/org/farengeyt/104731423778/?ll=37.762714%2C55.631008&mode=search&sctx=ZAAAAAgBEAAaKAoSCYnUtItp6kJAESFAho4d5ktAEhIJ2h1SDJCo%2Fz8RwcQfRZ055T8iBgABAgMEBSgKOABA1QFIAWoCcnWdAc3MzD2gAQCoAQC9AdP0dyPCAQui6OqThgPi0vv3A4ICEtCk0LDRgNC10L3Qs9C10LnRgooCAJICAJoCDGRlc2t0b3AtbWFwcw%3D%3D&sll=37.607017%2C55.631008&sspn=0.989326%2C0.333065&text=%D0%A4%D0%B0%D1%80%D0%B5%D0%BD%D0%B3%D0%B5%D0%B9%D1%82&z=10.76" 
                target="_blank">ссылке на Яндекс.Карты</a>.</p>

                <h2 style="text-align: center;">Обратная связь</h2>
                <div class="feedback-form" style="display: flex; justify-content: center; align-items: center; width: 100%; margin-top: 20px; text-align: center; background-color: #f9f9f9; border-radius: 5px; border: black 1px;">
                    
                    <form action="/submit_feedback" method="post" id="feedbackForm"style="display: inline-block; text-align: left;">
                        <label for="name">Имя:</label><br>
                        <input type="text" id="name" name="name" size="40" required><br><br>
                        
                        <label for="email">Email:</label><br>
                        <input type="email" id="email" name="email" size="40" required><br><br>
                        
                        <label for="message">Сообщение:</label><br>
                        <textarea id="message" name="message" rows="5" cols="38" required></textarea><br><br>
                        
                        <input type="submit" value="Отправить" class="submit-button">
                    </form>
            </td>

            
    
            <td width="12%" valign="top" align="center" class="ads-container">
                <strong>ПОИСК</strong>
                <br>
                <div style="display: flex; align-items: center; justify-content: center;">
                    <!-- Поле ввода для поиска -->
                    <input type="text" id="searchInput" style="margin-bottom: 5px;" value="" onkeyup="">
                    
                    <!-- Изображение с ссылкой на страницу фильтров -->
                    <a href="search.html">
                        <img src="source/tools.png" alt="Фильтры поиска" style="margin-left: 10px; cursor: pointer; height: 20px;">
                    </a>
                </div>
            
                <div class="ads-container">
                    <a href="https://www.premium-plumbing.co.uk/toilets/" target="_blank">
                        <img src="source/premiumPlumbing.jpg"
                            alt="Пример сайта"
                            class="ad-image">
                    </a>
                    <a href="https://www.americanplumbingflorida.com" target="_blank">
                        <img src="source/american plumbing.jpg"
                            alt="Пример сайта"
                            class="ad-image">
                    </a>
                </div>
            </td>
        </tr>
        
    </table>
</div>


<div class="footer">
    <p>© 2024 Магазин сантехники Фаренгейт. Все права защищены.</p>
</div>
<script type="module">
    import { 
    searchText, loginUser, updateLoginBlock, logoutUser, 
    openCartPopup, closeCartPopup, addItemToCart, clearCart, 
    decreaseItemQuantity, increaseItemQuantity 
} from '/utility.js';
document.addEventListener('DOMContentLoaded', async function () {
    // Обновляем блок входа при загрузке
    await updateLoginBlock();

    // Привязываем события к элементам
    const loginButton = document.querySelector('.submit-button');
    if (loginButton) {
        loginButton.addEventListener('click', loginUser);
    }

    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
        searchInput.addEventListener('keyup', searchText);
    }

    const logoutButton = document.querySelector('.logout-button');
    if (logoutButton) {
        logoutButton.addEventListener('click', logoutUser);
    }

    const addToCartButton = document.querySelector('.add-to-cart-button');
    if (addToCartButton) {
        addToCartButton.addEventListener('click', () => {
            // Предполагается, что waterBoiler объект доступен здесь
            if (typeof pump !== 'undefined') {
                addItemToCart(pump.id, pump.name, pump.price, pump.imagePath);
            } else {
                console.error("Объект камина не найден");
            }
        });
    }

    // Привязка событий для пагинации
    const nextPageButton = document.getElementById('NextPageButton');
    if (nextPageButton) {
        nextPageButton.addEventListener('click', getNextPage);
        console.log('NextPageButton найден и обработчик добавлен');
    }

    const prevPageButton = document.getElementById('PrevPageButton');
    if (prevPageButton) {
        prevPageButton.addEventListener('click', getPrevPage);
        console.log('PrevPageButton найден и обработчик добавлен');
    }
});


const form = document.getElementById('feedbackForm');

// Listen for form submission
if (form) {
    form.addEventListener('submit', async (e) => {
        e.preventDefault(); // Prevent the default form submission (это остановит переход на другую страницу)
        
        // Get the message from the form
        const message = document.getElementById('message').value;
        const mail = document.getElementById('email').value;

        // Prepare the data for the request
        const feedbackData = {
            message: message,
            email: mail
        };

        try {
            // Send the feedback data as a POST request to your API
            const response = await fetch('http://localhost:5000/api/Feedback/createFeedback', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(feedbackData),  // Send the message as the request body
            });

            if (response.ok) {
                const responseData = await response.json();
                alert('Отзыв отправлен успешно!');
                console.log('Response:', responseData); // Optionally log the response data
            } else {
                alert('Произошла ошибка при отправке отзыва');
            }
        } catch (error) {
            alert('Произошла ошибка при отправке запроса');
            console.error('Error:', error);
        }
    });
}
</script>
</body>
</html>
