<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Магазин сантехники Фаренгейт</title>
    <link href="styles.css" rel="stylesheet" type="text/css">
</head>
<body>
    <table width="100%" align="center" class="header">
        <tr>
            <td width="15%" align="left">
                <a href="index.html">
                    <img src="source/logo.png" alt="Логотип" class="logo">
                </a>
            </td>
            <td align="center">
                <h1 style="margin-top:35px" class="site-title">Фаренгейт</h1>
                <p style="margin-bottom:15px; color:white; font-size: large;">Лучший магазин сантехники!</p>
            </td>
            <td width="21.5%" align="right">
                <div class="login-block">
                    <table width="100%">
                        <tr>
                            <td align="right">
                                <input type="text" id="loginEmail" placeholder="логин" size="15" class="input-field">
                            </td>
                        </tr>
                        <tr>
                            <td align="right">
                                <input type="password" id="loginPassword" placeholder="пароль" size="15" class="input-field">
                            </td>
                        </tr>
                        <tr>
                            <td align="right">
                                <input type="submit" value="вход" class="submit-button" onclick="loginUser()">
                                <a href="authorize.html" class="register-link">регистрация</a>
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
    </table>
    

    <table border="0" width="100%" cellpadding="2" class="nav-table">
        <tr style="text-align: center;">
            <td align="center" width="25%">
                <a href="chapters/chapter1.html" class="nav-button" style="display: inline-block; width: 95%; text-align: center; padding: 8px; border-radius: 15px;">
                    Радиаторы отопления
                </a>
            </td>
            <td align="center" width="25%">
                <a href="chapters/chapter2.html" class="nav-button" style="display: inline-block; width: 95%; text-align: center;  padding: 8px; border-radius: 15px;">
                    Насосное оборудование
                </a>
            </td>
            <td align="center" width="25%">
                <a href="chapters/chapter3.html" class="nav-button" style="display: inline-block; width: 95%; text-align: center;  padding: 8px; border-radius: 15px;">
                    Водонагреватели
                </a>
            </td>
            <td align="center" width="25%">
                <a href="chapters/chapter4.html" class="nav-button" style="display: inline-block; width: 95%; text-align: center; padding: 8px; border-radius: 15px;">
                    Камины
                </a>
            </td>
        </tr>
    </table>
<div id="mainContent">
    <table border="0" width="100%" cellpadding="25" align="center">
        <tr>
            
            <td width="11%" class="sidebar" valign="top" align="center">
                <ul class="nav-list">
                    <li class = "nav-button" style="width:75%"><a href="sales.html" class="nav-button">Скидки</a></li>
                    <li class = "nav-button" style="width:75%"><a href="geo.html" class="nav-button">Контакты</a></li>
                    <li class = "nav-button" style="width:75%"><a href="guarantee.html" class="nav-button">Гарантии</a></li>
                    <li class = "nav-button" style="width:75%"><a href="about_us.html" class="nav-button">О нас</a></li>
                </ul>
            </td>
    
            <td width="34%" valign="top">
                <h1 align="center">Добро пожаловать</h1>
                <div class="welcome-container">
                    <div>
                        <p>
                            Наш коллектив – это команда молодых профессионалов, способных хорошо ориентироваться в рынке и быстро реагировать на ценовые и качественные изменения. Работа сотрудников построена на применении современных инструментов, таких как CRM, 1С Управление Торговлей, Системы сквозной Аналитики продаж Roistat.
                        </p>
                        <p>
                            Компания активно использует мессенджеры при общении с клиентами, а значит мы всегда на связи. Наш регламент по скорости реакции на звонок и входящую почту, позволяет информировать клиента о наличии и стоимости товаров максимум за 15 минут.
                        </p>
                        <p>
                            Наш склад удобно расположен около МКАД и открыт с 09.00 до 22.00, что является неоспоримым конкурентным преимуществом. Мы работаем, как в сегменте интернет продаж, так и напрямую со строительными организациями и частными клиентами. Осуществляем доставку заказов в самые короткие сроки.
                        </p>
                        <p>
                            «Фаренгейт» является современной высокотехнологичной компанией, бизнес которой построен на инструментах XXI века, что заметно выделяет ее среди конкурентов.
                        </p>
                        <p>Когда сравнивают – выбирают нас!</p>
                    </div>
                </div>
    
                <table border="0" width="100%" cellspacing="0" cellpadding="0">
                    
                    <tr>
                        

                        <!--List sample-->
            Наша продукция:<br>
            <ul type="disc">
                <li>Котельное оборудование:
                    <ul>
                        <li>Горелки для котлов</li>
                        <li>Газовые горелки</li>
                        <li>Дизельные котлы</li>
                        <li>Дымоходы</li>
                    </ul>
                </li>
                <li>Водонагреватели:
                    <ul>
                        <li>Проточные электрические водонагреватели</li>
                        <li>Газовые водонагреватели</li>
                        <li>Комбинированные водонагреватели</li>
                        <li>Принадлежности для водонагревателей</li>
                    </ul>
                </li>
            </ul>

            <p>Мы сотрудничаем с:</p>
            <ol type="a">
                <li>Duravit</li>
                <li>Ukbathroomstore</li>
                <li>Туалетный утенок!</li>
            </ol>

            <p>Наши услуги:</p>

            <ol type="1">
                <li>Прием устаревшего оборудования со скидкой для следующей покупки</li>
                <li>Мастер по вызову
                    <ul type="square">
                        <li>Срочный ремонт</li>
                        <li>Бесплатная доставка и установка оборудования</li>
                    </ul>
                </li>
                <li>Семейная</li>
            </ol>
                    </tr>
                </table>
            </td>
    
            <td width="12%" valign="top" align="center" class="ads-container">
                <strong>ПОИСК</strong>
                <br><input type="text" id="searchInput"style="margin-bottom: 5px;" value="" onkeyup=""><br>
                <input type="button" onclick="searchText()" style="font-weight: bold;" value="поиск"><br><br>
                <div class="ads-container">
                    <a href="https://www.premium-plumbing.co.uk/toilets/" target="_blank">
                        <img src="source/premiumPlumbing.jpg"
                             alt="Пример сайта"
                             class="ad-image">
                    </a>
                    <a href="https://www.americanplumbingflorida.com" target="_blank">
                        <img src="source/american plumbing.jpg"
                             alt="Пример сайта"
                             class="ad-image">
                    </a>
                    <a href="https://ukbathroomstore.co.uk/?srsltid=AfmBOor4c0OGMmLlAZLYVcwGSjImeYjqfPFB8TqIF5rymqOQNr2b2hWF" target="_blank">
                        <img src="source/spidertoilet.jpg"
                             alt="Пример сайта"
                             class="ad-image">
                    </a>
                </div>
            </td>
        </tr>
    </table>
</div>


<div class="footer">
    <p>© 2024 Магазин сантехники Фаренгейт. Все права защищены.</p>
</div>


<!-- JavaScript для поиска -->
<script>


function searchText() {
    // Получаем введенный текст
    let input = document.getElementById('searchInput').value.toLowerCase();
    let mainContent = document.getElementById('mainContent');

    // Убираем предыдущую подсветку
    let cleanedContent = mainContent.innerHTML.replace(/<mark>(.*?)<\/mark>/g, '$1');

    // Если поле ввода пустое, восстанавливаем текст без подсветки
    if (input.length === 0) {
        mainContent.innerHTML = cleanedContent;
        return; // Завершаем функцию
    }

    // Создаем регулярное выражение для поиска введенного текста
    let regex = new RegExp(`(${input})`, 'gi'); // 'g' - глобальный поиск, 'i' - не учитываем регистр

    // Подсвечиваем введенный текст
    let highlightedContent = cleanedContent.replace(regex, '<mark>$1</mark>');
    
    // Обновляем содержимое
    mainContent.innerHTML = highlightedContent;
}


function loginUser() {
    // Получаем значения полей логина и пароля
    const email = document.getElementById('loginEmail').value.trim();
    const password = document.getElementById('loginPassword').value.trim();

    // Проверка на пустые поля
    if (!email || !password) {
        alert("Пожалуйста, заполните оба поля.");
        return;
    }

    // Создаем тело запроса
    const loginData = {
        email: email,
        password: password
    };

    // Отправка POST-запроса на API
    fetch('http://localhost:5000/api/v1/User/login', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(loginData)
    })
    .then(response => {
        if (response.status === 200) {
            // Если ответ успешен (код 200), получаем токен
            return response.text();  // Читаем тело ответа как текст (токен)
        } else if (response.status === 500) {
            // Если сервер возвращает статус 500, выводим сообщение об ошибке
            alert("Ошибка: Неверные данные для входа.");
            return Promise.reject("Unauthorized");
        } else {
            // В случае других статусов — выводим сообщение об ошибке
            return response.text().then(error => {
                alert("Ошибка входа: " + error);
                return Promise.reject(error);
            });
        }
    })
    .then(token => {
        if (token) {
            // Если токен получен, сохраняем его в localStorage
            localStorage.setItem('token', token);  // Сохраняем токен
            alert("Вход выполнен успешно!");
        }
    })
    .catch(error => {
        console.error('Ошибка:', error);
    });
}


</script>
</body>
</html>
